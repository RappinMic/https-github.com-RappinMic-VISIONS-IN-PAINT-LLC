<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shop - Visions in Paint LLC</title>
  <link rel="stylesheet" href="assets/css/style.css">
  <script src="https://js.stripe.com/v3/"></script>
</head>
<body>

<header>
  <h1>üé® Visions in Paint LLC</h1>
  <nav>
    <a href="index.html">Home</a>
    <a href="gallery.html">Gallery</a>
    <a href="shop.html">Shop</a>
  </nav>
</header>

<div class="container">
  <div class="hero">
    <h2>üõí Shop Original Artwork</h2>
    <p>Own a piece of artistic excellence - Purchase your favorite pieces</p>
  </div>

  <div class="products-grid">
    <div class="product">
      <img src="assets/images/art1.svg" alt="Abstract Dreams">
      <div class="product-info">
        <h2>Abstract Dreams</h2>
        <p class="description">Original canvas painting featuring mesmerizing purple hues and geometric forms. 24" x 24"</p>
        <p class="price">$350.00</p>
        <button class="btn" onclick="handleCheckout('price_1234ABSTRACT')">Purchase Now</button>
      </div>
    </div>

    <div class="product">
      <img src="assets/images/art2.svg" alt="Geometric Harmony">
      <div class="product-info">
        <h2>Geometric Harmony</h2>
        <p class="description">Vibrant geometric composition in pink and red gradients. Perfect modern statement piece. 30" x 30"</p>
        <p class="price">$425.00</p>
        <button class="btn" onclick="handleCheckout('price_1234GEOMETRIC')">Purchase Now</button>
      </div>
    </div>

    <div class="product">
      <img src="assets/images/art3.svg" alt="Prismatic Vision">
      <div class="product-info">
        <h2>Prismatic Vision</h2>
        <p class="description">Stunning triangular artwork in ocean blue tones. Brings calm and sophistication. 20" x 30"</p>
        <p class="price">$275.00</p>
        <button class="btn" onclick="handleCheckout('price_1234PRISMATIC')">Purchase Now</button>
      </div>
    </div>

    <div class="product">
      <img src="assets/images/art4.svg" alt="Flowing Energy">
      <div class="product-info">
        <h2>Flowing Energy</h2>
        <p class="description">Dynamic curves flow across warm gradients. Represents movement and vitality. 24" x 36"</p>
        <p class="price">$400.00</p>
        <button class="btn" onclick="handleCheckout('price_1234FLOWING')">Purchase Now</button>
      </div>
    </div>

    <div class="product">
      <img src="assets/images/art5.svg" alt="Celestial Rings">
      <div class="product-info">
        <h2>Celestial Rings</h2>
        <p class="description">Concentric circles in beautiful turquoise tones evoke cosmic harmony. 24" x 24"</p>
        <p class="price">$325.00</p>
        <button class="btn" onclick="handleCheckout('price_1234CELESTIAL')">Purchase Now</button>
      </div>
    </div>

    <div class="product">
      <img src="assets/images/art6.svg" alt="Modern Mosaic">
      <div class="product-info">
        <h2>Modern Mosaic</h2>
        <p class="description">Contemporary rotated squares in vibrant purple and pink. Bold and beautiful. 30" x 30"</p>
        <p class="price">$450.00</p>
        <button class="btn" onclick="handleCheckout('price_1234MOSAIC')">Purchase Now</button>
      </div>
    </div>
  </div>

  <div style="text-align: center; margin: 40px 0;">
    <a class="btn btn-secondary" href="gallery.html">View Gallery</a>
    <a class="btn btn-secondary" href="index.html">Back Home</a>
  </div>

  <!-- Stripe Setup Instructions -->
  <div style="background: rgba(255,255,255,0.8); padding: 30px; border-radius: 15px; margin-top: 40px;">
    <h2 style="color: var(--dark-color); margin-bottom: 20px;">üí≥ Stripe Payment Setup Instructions</h2>
    
    <div style="text-align: left; color: #666; line-height: 1.8;">
      <h3 style="color: var(--dark-color); margin-top: 20px;">Step 1: Create Stripe Account</h3>
      <ol>
        <li>Go to <a href="https://stripe.com" target="_blank">stripe.com</a> and create an account</li>
        <li>For testing, you can use <a href="https://dashboard.stripe.com/test/dashboard" target="_blank">Stripe Test Mode</a></li>
      </ol>

      <h3 style="color: var(--dark-color); margin-top: 20px;">Step 2: Create Products in Stripe</h3>
      <ol>
        <li>Go to Products in your Stripe Dashboard</li>
        <li>Create a product for each artwork with pricing</li>
        <li>Copy the Price ID (starts with <code>price_</code>)</li>
      </ol>

      <h3 style="color: var(--dark-color); margin-top: 20px;">Step 3: Configure This Website</h3>
      <ol>
        <li>Replace <code>YOUR_PUBLISHABLE_KEY</code> in the script below with your Stripe publishable key</li>
        <li>Replace the <code>price_1234XXXXX</code> placeholders with your actual Price IDs</li>
        <li>Set up your success and cancel URLs</li>
      </ol>

      <h3 style="color: var(--dark-color); margin-top: 20px;">Test Mode Credentials:</h3>
      <ul>
        <li><strong>Test Card:</strong> 4242 4242 4242 4242</li>
        <li><strong>Expiry:</strong> Any future date (e.g., 12/34)</li>
        <li><strong>CVC:</strong> Any 3 digits (e.g., 123)</li>
        <li><strong>ZIP:</strong> Any 5 digits (e.g., 12345)</li>
      </ul>

      <p style="margin-top: 20px; padding: 15px; background: #fff3cd; border-left: 4px solid #ffc107; border-radius: 5px;">
        <strong>‚ö†Ô∏è Current Status:</strong> The Stripe integration is set up with placeholder keys. 
        Replace the publishable key and price IDs below to activate real payment processing.
      </p>
    </div>
  </div>
</div>

<footer>
  <p>&copy; 2024 Visions in Paint LLC. All rights reserved.</p>
  <p>Secure payments powered by Stripe</p>
</footer>

<script>
  // Initialize Stripe with your publishable key
  // Replace 'YOUR_PUBLISHABLE_KEY' with your actual Stripe publishable key
  // For test mode, use a key that starts with 'pk_test_'
  const stripe = Stripe('pk_test_51234567890ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz');

  function handleCheckout(priceId) {
    // Show loading state
    event.target.disabled = true;
    event.target.textContent = 'Processing...';

    // Create Checkout Session
    fetch('https://api.stripe.com/v1/checkout/sessions', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/x-www-form-urlencoded',
      },
      // Note: In production, this should be handled by a server-side endpoint
      // This is a simplified example for demonstration
      body: new URLSearchParams({
        'price': priceId,
        'quantity': 1,
        'success_url': window.location.origin + '/success.html',
        'cancel_url': window.location.origin + '/shop.html',
      })
    })
    .then(response => response.json())
    .then(session => {
      // Redirect to Checkout
      return stripe.redirectToCheckout({ sessionId: session.id });
    })
    .then(result => {
      if (result.error) {
        alert(result.error.message);
        event.target.disabled = false;
        event.target.textContent = 'Purchase Now';
      }
    })
    .catch(error => {
      console.error('Error:', error);
      alert('Payment processing is not yet configured. Please set up your Stripe account and replace the API keys.');
      event.target.disabled = false;
      event.target.textContent = 'Purchase Now';
    });
  }

  // Alternative: Use Stripe Payment Links (Easier Setup)
  // Uncomment this function and update the onclick handlers to use it instead
  /*
  function handleCheckoutWithPaymentLink(url) {
    window.location.href = url;
  }
  
  // Then change button onclick to:
  // onclick="handleCheckoutWithPaymentLink('https://buy.stripe.com/test_XXXXX')"
  */
</script>

</body>
</html>
